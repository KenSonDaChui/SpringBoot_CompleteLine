<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jiucheng.dao.Icity">

    <resultMap id="cityMap" type="com.jiucheng.vo.city">
        <id column="CityID" property="CityID"/>
        <result column="CityName" property="CityName"/>
        <result column="RootID" property="RootID"/>
        <result column="Child" property="Child"/>
        <result column="Layer" property="Layer"/>
        <result column="Sort" property="Sort"/>
        <result column="Isopen" property="Isopen"/>
        <collection property="list" ofType="com.jiucheng.vo.city"
                    column="CityID" select="getChildCity"/>
    </resultMap>

    <select id="findAll" resultMap="cityMap">
        select * from city where RootID = 0
    </select>

    <select id="getChildCity" resultType="com.jiucheng.vo.city">
         select * from city WHERE  RootID = #{CityID}
     </select>
</mapper>